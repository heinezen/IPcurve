<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>RakNet: NatPunchthrough Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1-p1 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="classes.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>NatPunchthrough Class Reference<br>
<small>
[<a class="el" href="group__NAT__PUNCHTHROUGH__GROUP.html">NatPunchthrough</a>]</small>
</h1><!-- doxytag: class="NatPunchthrough" --><!-- doxytag: inherits="PluginInterface" -->The <a class="el" href="classNatPunchthrough.html">NatPunchthrough</a> class implements the NAT punch through technique, allowing two systems to connect to each other that are both behind NATs.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;NatPunchthrough.h&gt;</code>
<p>
<p>Inheritance diagram for NatPunchthrough:
<p><center><img src="classNatPunchthrough.png" usemap="#NatPunchthrough_map" border="0" alt=""></center>
<map name="NatPunchthrough_map">
<area href="classPluginInterface.html" alt="PluginInterface" shape="rect" coords="0,0,110,24">
</map>
<a href="classNatPunchthrough-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3ba628c3a8b74d7d75fc601ded7b0c9a"></a><!-- doxytag: member="NatPunchthrough::NatPunchthrough" ref="3ba628c3a8b74d7d75fc601ded7b0c9a" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNatPunchthrough.html#3ba628c3a8b74d7d75fc601ded7b0c9a">NatPunchthrough</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3f553f5f5bcb502ffc854f6c762b013d"></a><!-- doxytag: member="NatPunchthrough::~NatPunchthrough" ref="3f553f5f5bcb502ffc854f6c762b013d" args="()" -->
virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNatPunchthrough.html#3f553f5f5bcb502ffc854f6c762b013d">~NatPunchthrough</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNatPunchthrough.html#83152b73d7501089208b37094fca85b9">FacilitateConnections</a> (bool allow)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNatPunchthrough.html#6949470c77743e9b067b1bfe00c61884">Connect</a> (const char *receiver, unsigned short remotePort, const char *passwordData, int passwordDataLength, <a class="el" href="structSystemAddress.html">SystemAddress</a> facilitator)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNatPunchthrough.html#6b26fd8a3358100609d4fd6299a50501">Connect</a> (<a class="el" href="structSystemAddress.html">SystemAddress</a> receiver, const char *passwordData, int passwordDataLength, <a class="el" href="structSystemAddress.html">SystemAddress</a> facilitator)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3598221e3b14d33dd9a23d75344234b7"></a><!-- doxytag: member="NatPunchthrough::Clear" ref="3598221e3b14d33dd9a23d75344234b7" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNatPunchthrough.html#3598221e3b14d33dd9a23d75344234b7">Clear</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Free internal memory. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNatPunchthrough.html#e4131280f97969b31060e8725270ac6f">OnAttach</a> (<a class="el" href="classRakPeerInterface.html">RakPeerInterface</a> *peer)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNatPunchthrough.html#c2f875fdc8e02ae9b75356069793a894">Update</a> (<a class="el" href="classRakPeerInterface.html">RakPeerInterface</a> *peer)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual PluginReceiveResult&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNatPunchthrough.html#dffcfe1a7c504a8a896d35e58e87e6df">OnReceive</a> (<a class="el" href="classRakPeerInterface.html">RakPeerInterface</a> *peer, <a class="el" href="structPacket.html">Packet</a> *packet)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNatPunchthrough.html#99a3970918c6a820e881755ae5213cdf">OnShutdown</a> (<a class="el" href="classRakPeerInterface.html">RakPeerInterface</a> *peer)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNatPunchthrough.html#828cb57705e59e829d305cecbe250185">OnCloseConnection</a> (<a class="el" href="classRakPeerInterface.html">RakPeerInterface</a> *peer, <a class="el" href="structSystemAddress.html">SystemAddress</a> systemAddress)</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0aea43e65a52b7ddcce65379df8e3062"></a><!-- doxytag: member="NatPunchthrough::OnPunchthroughRequest" ref="0aea43e65a52b7ddcce65379df8e3062" args="(RakPeerInterface *peer, Packet *packet)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>OnPunchthroughRequest</b> (<a class="el" href="classRakPeerInterface.html">RakPeerInterface</a> *peer, <a class="el" href="structPacket.html">Packet</a> *packet)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1dfe6231302206a744e28fbacf0efe76"></a><!-- doxytag: member="NatPunchthrough::OnConnectAtTime" ref="1dfe6231302206a744e28fbacf0efe76" args="(RakPeerInterface *peer, Packet *packet)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>OnConnectAtTime</b> (<a class="el" href="classRakPeerInterface.html">RakPeerInterface</a> *peer, <a class="el" href="structPacket.html">Packet</a> *packet)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a1a39fb070b668fca16266e038700733"></a><!-- doxytag: member="NatPunchthrough::OnSendOfflineMessageAtTime" ref="a1a39fb070b668fca16266e038700733" args="(RakPeerInterface *peer, Packet *packet)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>OnSendOfflineMessageAtTime</b> (<a class="el" href="classRakPeerInterface.html">RakPeerInterface</a> *peer, <a class="el" href="structPacket.html">Packet</a> *packet)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="54fbfa3ecbca7ca8657837021cfc36aa"></a><!-- doxytag: member="NatPunchthrough::RemoveRequestByFacilitator" ref="54fbfa3ecbca7ca8657837021cfc36aa" args="(SystemAddress systemAddress)" -->
PluginReceiveResult&nbsp;</td><td class="memItemRight" valign="bottom"><b>RemoveRequestByFacilitator</b> (<a class="el" href="structSystemAddress.html">SystemAddress</a> systemAddress)</td></tr>

<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="250cdb84313f7fe0ddb4717bb9634048"></a><!-- doxytag: member="NatPunchthrough::allowFacilitation" ref="250cdb84313f7fe0ddb4717bb9634048" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>allowFacilitation</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6462718c4057c34d3e025647922722b4"></a><!-- doxytag: member="NatPunchthrough::rakPeer" ref="6462718c4057c34d3e025647922722b4" args="" -->
<a class="el" href="classRakPeerInterface.html">RakPeerInterface</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>rakPeer</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0ebb8a935b897abdc2e38cfa7a9e30c3"></a><!-- doxytag: member="NatPunchthrough::connectionRequestList" ref="0ebb8a935b897abdc2e38cfa7a9e30c3" args="" -->
<a class="el" href="classDataStructures_1_1List.html">DataStructures::List</a>&lt; ConnectionRequest * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>connectionRequestList</b></td></tr>

<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><b>ConnectionRequest</b></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The <a class="el" href="classNatPunchthrough.html">NatPunchthrough</a> class implements the NAT punch through technique, allowing two systems to connect to each other that are both behind NATs. 
<p>
A NAT (Network Address Translator) is a system that will makes it so your system's IP address is different from the IP address exposed to the internet. This provides some security and allows multiple computers, each with a different IP address, to share one IP address as seen by the internet.<p>
The problem is that NATs also ignore packets sent to them unless they sent a packet to the sender first. If two systems are both behind NATs, then neither system can connect to each other. Furthermore, some NATs will impose a temporary ban on an IP address that send unsolicited packets to them.<p>
This can be solved by using a third system, a facilitator, that is not behind a NAT and that both systems are already connected to. It will synchronize a send between both NAT systems such that the routers will both consider themselves as handling a reply to a message, when in fact they are handing an initial message. As replies are allowed, both systems get their corresponding messages and the connection takes place. S = system that wants to connect F = facilitator R = system to get the connection request.<p>
S knows IP of R in advance. 1. S-&gt;F facilitate connection request to R 2. if (R is not is connected) F-&gt;S ID_NAT_TARGET_NOT_CONNECTED. Exit. 3. F -&gt; (Ping S, Ping R), every X ms Y times. Wait Max(Ping(s), Ping(r) * multiple ms more, then go to step 4. 4. F picks time highest(ave of Ping R,S) * N from now and sends this time RELIABLE and timestamped to R,S. 5. At time picked in (4), S attempts to connect to R. R sends offline ping to S. 6. If R disconnects before or at step 4, tell this to S via ID_NAT_TARGET_CONNECTION_LOST<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Timing is important with this plugin. You need to call <a class="el" href="classRakPeer.html#30f9b6c0108bae2b860776136f6aece7">RakPeer::Receive</a> frequently. </dd></dl>

<p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="83152b73d7501089208b37094fca85b9"></a><!-- doxytag: member="NatPunchthrough::FacilitateConnections" ref="83152b73d7501089208b37094fca85b9" args="(bool allow)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NatPunchthrough::FacilitateConnections           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>allow</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Call with true to allow other systems to use this system as a NAT punch through facilitator. This takes a little bandwidth but otherwise there is no reason to disallow it. Defaults to true <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>allow</em>&nbsp;</td><td>True to allow, false to disallow. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="6949470c77743e9b067b1bfe00c61884"></a><!-- doxytag: member="NatPunchthrough::Connect" ref="6949470c77743e9b067b1bfe00c61884" args="(const char *receiver, unsigned short remotePort, const char *passwordData, int passwordDataLength, SystemAddress facilitator)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool NatPunchthrough::Connect           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>receiver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&nbsp;</td>
          <td class="paramname"> <em>remotePort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>passwordData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>passwordDataLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structSystemAddress.html">SystemAddress</a>&nbsp;</td>
          <td class="paramname"> <em>facilitator</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Call this to start to connect to the specified host (ip or domain name) and server port using <em>facilitator</em> to punch through a NAT This is a non-blocking operation You know the connection is successful when you get the message ID_CONNECTION_ACCEPTED. You know the connection failed when you get the message ID_CONNECTION_ATTEMPT_FAILED, ID_CONNECTION_BANNED, or ID_NAT_TARGET_NOT_CONNECTED Both you and the host must be connected to the facilitator. <dl class="pre" compact><dt><b>Precondition:</b></dt><dd>Requires that you first call Initialize <p>
Both <em>host</em> and this system must already be connected to the system at the address <em>facilitator</em> and facilitator must be running <a class="el" href="classNatPunchthrough.html">NatPunchthrough</a> with FacilitateConnections(true) previously called. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>receiver</em>&nbsp;</td><td>Either a dotted IP address or a domain name of the system you ultimately want to connect to. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>remotePort</em>&nbsp;</td><td>Which port to connect to of the system you ultimately want to connect to. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>passwordData</em>&nbsp;</td><td>A data block that must match the data block on the <em>host</em>. This can be just a password, or can be a stream of data </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>passwordDataLength</em>&nbsp;</td><td>The length in bytes of passwordData </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>If you are not connected to the facilitator this function returns false. Otherwise it returns true. </dd></dl>

</div>
</div><p>
<a class="anchor" name="6b26fd8a3358100609d4fd6299a50501"></a><!-- doxytag: member="NatPunchthrough::Connect" ref="6b26fd8a3358100609d4fd6299a50501" args="(SystemAddress receiver, const char *passwordData, int passwordDataLength, SystemAddress facilitator)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool NatPunchthrough::Connect           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSystemAddress.html">SystemAddress</a>&nbsp;</td>
          <td class="paramname"> <em>receiver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>passwordData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>passwordDataLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structSystemAddress.html">SystemAddress</a>&nbsp;</td>
          <td class="paramname"> <em>facilitator</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Same as above, but takes a <a class="el" href="structSystemAddress.html">SystemAddress</a> for a host <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>receiver</em>&nbsp;</td><td>The address of the host to connect to. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>remotePort</em>&nbsp;</td><td>Which port to connect to of the system you ultimately want to connect to. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>passwordData</em>&nbsp;</td><td>A data block that must match the data block on the <em>host</em>. This can be just a password, or can be a stream of data </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>passwordDataLength</em>&nbsp;</td><td>The length in bytes of passwordData </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>If you are not connected to the facilitator this function returns false. Otherwise it returns true. </dd></dl>

</div>
</div><p>
<a class="anchor" name="e4131280f97969b31060e8725270ac6f"></a><!-- doxytag: member="NatPunchthrough::OnAttach" ref="e4131280f97969b31060e8725270ac6f" args="(RakPeerInterface *peer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NatPunchthrough::OnAttach           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRakPeerInterface.html">RakPeerInterface</a> *&nbsp;</td>
          <td class="paramname"> <em>peer</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called when the interface is attached <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>peer</em>&nbsp;</td><td>the instance of <a class="el" href="classRakPeer.html">RakPeer</a> that is calling Receive </td></tr>
  </table>
</dl>

<p>
Reimplemented from <a class="el" href="classPluginInterface.html#9124155ea27bf6c50801350d21173d68">PluginInterface</a>.
</div>
</div><p>
<a class="anchor" name="c2f875fdc8e02ae9b75356069793a894"></a><!-- doxytag: member="NatPunchthrough::Update" ref="c2f875fdc8e02ae9b75356069793a894" args="(RakPeerInterface *peer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NatPunchthrough::Update           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRakPeerInterface.html">RakPeerInterface</a> *&nbsp;</td>
          <td class="paramname"> <em>peer</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Update is called every time a packet is checked for . <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>peer</em>&nbsp;</td><td>- the instance of <a class="el" href="classRakPeer.html">RakPeer</a> that is calling Receive </td></tr>
  </table>
</dl>

<p>
Reimplemented from <a class="el" href="classPluginInterface.html#5966e72f872ebd754b44770ecc981bd9">PluginInterface</a>.
</div>
</div><p>
<a class="anchor" name="dffcfe1a7c504a8a896d35e58e87e6df"></a><!-- doxytag: member="NatPunchthrough::OnReceive" ref="dffcfe1a7c504a8a896d35e58e87e6df" args="(RakPeerInterface *peer, Packet *packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PluginReceiveResult NatPunchthrough::OnReceive           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRakPeerInterface.html">RakPeerInterface</a> *&nbsp;</td>
          <td class="paramname"> <em>peer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structPacket.html">Packet</a> *&nbsp;</td>
          <td class="paramname"> <em>packet</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
OnReceive is called for every packet. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>peer</em>&nbsp;</td><td>the instance of <a class="el" href="classRakPeer.html">RakPeer</a> that is calling Receive </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>packet</em>&nbsp;</td><td>the packet that is being returned to the user </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>True to allow the game and other plugins to get this message, false to absorb it </dd></dl>

<p>
Reimplemented from <a class="el" href="classPluginInterface.html#633dcfc264e4309c41f0cfeb84b4840a">PluginInterface</a>.
</div>
</div><p>
<a class="anchor" name="99a3970918c6a820e881755ae5213cdf"></a><!-- doxytag: member="NatPunchthrough::OnShutdown" ref="99a3970918c6a820e881755ae5213cdf" args="(RakPeerInterface *peer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NatPunchthrough::OnShutdown           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRakPeerInterface.html">RakPeerInterface</a> *&nbsp;</td>
          <td class="paramname"> <em>peer</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called when <a class="el" href="classRakPeer.html">RakPeer</a> is shutdown <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>peer</em>&nbsp;</td><td>the instance of <a class="el" href="classRakPeer.html">RakPeer</a> that is calling Receive </td></tr>
  </table>
</dl>

<p>
Reimplemented from <a class="el" href="classPluginInterface.html#0983119975a8bb9c726b8a006c089dc2">PluginInterface</a>.
</div>
</div><p>
<a class="anchor" name="828cb57705e59e829d305cecbe250185"></a><!-- doxytag: member="NatPunchthrough::OnCloseConnection" ref="828cb57705e59e829d305cecbe250185" args="(RakPeerInterface *peer, SystemAddress systemAddress)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NatPunchthrough::OnCloseConnection           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRakPeerInterface.html">RakPeerInterface</a> *&nbsp;</td>
          <td class="paramname"> <em>peer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structSystemAddress.html">SystemAddress</a>&nbsp;</td>
          <td class="paramname"> <em>systemAddress</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called when a connection is dropped because the user called <a class="el" href="classRakPeer.html#05e43a9ba3b85f1000adb2f1e9551000">RakPeer::CloseConnection()</a> for a particular system <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>peer</em>&nbsp;</td><td>the instance of <a class="el" href="classRakPeer.html">RakPeer</a> that is calling Receive </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>systemAddress</em>&nbsp;</td><td>The system whose connection was closed </td></tr>
  </table>
</dl>

<p>
Reimplemented from <a class="el" href="classPluginInterface.html#da6d76a81fb6ea6dd8422c3ed5c9baff">PluginInterface</a>.
</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>C:/RakNet/Source/<a class="el" href="NatPunchthrough_8h.html">NatPunchthrough.h</a><li>C:/RakNet/Source/NatPunchthrough.cpp</ul>
<hr size="1"><address style="align: right;"><small>Generated on Thu Feb 15 01:46:46 2007 for RakNet by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1-p1 </small></address>
</body>
</html>
